# 查询表的空间使用
使用语句
```sql
SELECT t.tabname, 'standard' AS tabtype, p.nrows AS nrows, (p.nptotal * t.pagesize)/1024/1024 total_mb, (p.npused * t.pagesize)/1024/1024 used_mb
FROM systables t, sysmaster:sysptnhdr p 
WHERE t.tabid > (SELECT tabid FROM systables WHERE tabname = ' VERSION') 
  AND t.tabtype = 'T'
-- 这里是普通表，需要修改表名
  AND t.tabname = 't1'
  AND t.partnum = p.partnum
UNION ALL
SELECT t.tabname, 'fragment' AS tabtype, sum(p.nrows) AS nrows, sum(p.nptotal * d.pagesize)/1024/1024 total_mb, sum(p.npused * d.pagesize)/1024/1024 used_mb
FROM systables t, sysfragments f, sysmaster:sysptnhdr p, sysmaster:sysdbspaces d
WHERE t.tabid > (SELECT tabid FROM systables WHERE tabname = ' VERSION') 
  AND t.tabtype = 'T'
-- 这里是分片表，需要修改表名
  AND t.tabname = 't1'
  AND t.tabid = f.tabid
  AND f.fragtype = 'T'
  AND f.partn = p.partnum
  AND f.dbspace = d.name
GROUP BY 1;
```
输出示例：
```text
tabname   t1
tabtype   standard
nrows     2
total_mb  0.06250000000000
used_mb   0.03125000000000
```