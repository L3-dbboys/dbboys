### 导出
```shell
#file name: exp.sh 
#support OS: linux
#useage: sh exp.sh <dbname>
export FET_BUF_SIZE=32767
export LANG=en_us
export DBNAME=$1
echo "##################### Begin to export tables ... #####################"
echo ""
#################### new tablist.unl ###################################
dbaccess -e -m ${DBNAME} -<<! >/dev/null 2>&1
unload to tablist.unl delimiter " " select tabname from systables where tabid>99 and tabtype='T' order by tabname;
!

#################### new exptab.sh ###################################
cat <<EOF  >exptab.sh
tabname=\$1
DATE=\`date\`
echo "unload "\$tabname" start: "\$DATE >>exp.log
dbaccess -e -m ${DBNAME} -<<! >exptablog/\${tabname}.log 2>&1   
unload to \${tabname}.unl select * from \${tabname};
!
compress \${tabname}.unl
DATE=\`date\`
echo "unload "\$tabname" end: "\$DATE >>exp.log
rows=\`cat exptablog/\${tabname}.log |grep "已卸载" |awk '{print \$2}'\`
echo \${tabname}" "\$rows >>exprows.log
EOF
#################### export data ###################################

mkdir exptablog
>exp.log
while read tabname
do
nohup sh exptab.sh $tabname>/dev/null 2>&1 &
done < tablist.unl

TotoaTab=`wc -l tablist.unl |awk '{print $1}'`
Current=`grep -c end: exp.log`
while ((${Current}<${TotoaTab}))
do
Before=`grep -c end: exp.log`
sleep 5
Current=`grep -c end: exp.log`
if [ ${Current} -gt ${Before} ]
then
echo "#################### "${Current}" tables of "${TotoaTab}" completed! ####################"
date
echo ""
fi
done
echo "#################### data export completed! ##########################"
```
### 导入
```shell
#file name: imp.sh 
#support OS: linux
#useage: sh imp.sh <dbname>
export FET_BUF_SIZE=32767
export LANG=en_us
export DBNAME=$1

#################### new imptab.sh ###################################
cat <<EOF  >imptab.sh
tabname=\$1
DATE=\`date\`
echo "load "\$tabname" start: "\$DATE >>imp.log
uncompress \${tabname}.unl.Z 
dbaccess -e -m ${DBNAME} -<<! >imptablog/\${tabname}.log 2>&1
load from \${tabname}.unl insert into \${tabname};
!
DATE=\`date\`
echo "load "\$tabname" end: "\$DATE >>imp.log
rows=\`cat imptablog/\${tabname}.log |grep 已装入 |awk '{print \$2}'\`
echo \${tabname}" "\$rows >>improws.log
EOF

#################### import data ###################################
mkdir imptablog
>imp.log
while read tabname
do
nohup sh imptab.sh $tabname >/dev/null 2>&1 & 
done < tablist.unl
echo ""
echo "#################### data import is running... #######################"
echo ""
TotoaTab=`wc -l tablist.unl |awk '{print $1}'`
Current=`grep -c end: imp.log`
while ((${Current}<${TotoaTab}))
do
Before=`grep -c end: imp.log`
sleep 5
Current=`grep -c end: imp.log`
if [ ${Current} -gt ${Before} ]
then
echo "#################### "${Current}" tables of "${TotoaTab}" completed! ####################"
date
echo ""
fi
done

echo "#################### data import completed! ##########################"
echo ""
echo "### check rows loaded this time! any diffents will display! ##########"
echo ""
sort exprows.log >source
sort improws.log >target
diff source target
rm -rf source target
echo "#################### check database information completed! ###########"
echo ""
echo "################################## end ###############################"
```