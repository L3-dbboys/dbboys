设置环境变量，环境变量从内部工具生成
```
export IFX_ASKEY=YIJJGGIG
```
### oncheck截断日志
日志截断到最后checkpoint，回滚open事务：
```
oncheck -S zero -y;
oninit -v
```
日志截断到最后checkpoint，不回滚open事务：
```
oncheck -S zero -n -y;
oninit -v
```
参考输出：
```
[root@test15 ~]# oncheck -S zero -n -y


GBASEDBT ENVIRONMENT:
        GBASEDBTDIR ................ /home/gbasedbt/hdr35
        GBASEDBTSERVER ............. cgd
        ONCONFIG ................... onconfig.cgd
        ROOTPATH ................... /home/gbasedbt/hdr35/zhan2_dbs/rootdbs
        ROOTOFFSET ................. 0
        MIRROR ..................... 0

MIRROR IS TURNED OFF.



Checkpoint at Loguniq 331 Logpos 0x3cc0018


Open transactions: 0

Salvage transaction '20231202-102447-001' started.
Transactions truncated at page 2:3515605
Truncating recovery at 2:3515606
 ```
### oncheck修改空间状态
光纤中断，sds切换到备机，存储恢复后plogdbs down
启动报错：
```
Opening primary chunks...Bad Pri.mary Chunk '/dbs/plogdbs'.
```
将所有空间更改为online：(root)
```
oncheck -S space -a -y
```
参考输出：
```
GBASEDBT ENVIRONMENT:
	GBASEDBTDIR ................ /home/gbase8s_a2_2
	GBASEDBTSERVER ............. gbase02
	ONCONFIG ................... onconfig.gbase02
	ROOTPATH ................... /home/gbase/rootchk
	ROOTOFFSET ................. 0
	MIRROR ..................... 0

MIRROR IS TURNED OFF.


Salvage transaction '20220712-130436-001' started.
CHANGES DONE
```
启动数据库(gbasedbt)
```
oninit -v
```


